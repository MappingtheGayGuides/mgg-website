{{ define "title" }}{{ .Title | markdownify }} | {{ .Site.Title }}{{ end }}

{{ define "schema-dot-org" }}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  {{- /* Google recommends the headline be no more than 110 characters */}}
  "headline": "{{ substr .Title 0 110 }}",
  {{- with .Params.images -}}{{ range first 1 . }}
  "image": {
    "@type": "ImageObject",
    "url": "{{ . | absURL }}"
    {{- /* Don't try to get imageConfig if image param is not local */ -}}
    {{- if not (or (hasPrefix . "http://") (hasPrefix . "https://")) -}}
    {{- with (imageConfig (printf "/static/%s" .)) -}}
    ,
    "height": "{{ .Height }}",
    "width": "{{ .Width }}"
    {{- end -}}
    {{ end }}
  },
  {{- end -}}{{ end }}
  "url": "{{ printf "%s" .Permalink }}",
  "wordCount": "{{ .WordCount }}",
  {{- $ISO8601 := "2006-01-02T15:04:05-07:00" }}
  {{- if not .PublishDate.IsZero }}
  "datePublished": "{{ .PublishDate.Format $ISO8601 }}",
  {{- else }}
  "datePublished": "{{ .Date.Format $ISO8601 }}",
  {{- end }}
  {{- if not .Lastmod.IsZero }}
  "dateModified": "{{ .Lastmod.Format $ISO8601 }}",
  {{- end }}
  {{- with .Site.Social.GooglePlus }}
  "publisher": "{{ printf "%s" . }}",
  {{- end }}
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author }}"
  }
  {{- if or (.Params.keywords) (or (.Params.categories) (.Params.tags)) -}}
  ,
  "keywords": "{{ delimit (union .Params.keywords (union .Params.categories .Params.tags)) ", " }}"
  {{- end }}

  {{- with .Params.description -}}
  ,
  "description": "{{ . }}"
  {{- end }}
}
</script>

<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.css" /> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.6.0/leaflet.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<!-- load jQuery, use newest version at https://code.jquery.com   -->
<!-- <!-- Load Esri Leaflet, use newest version at http://esri.github.io/esri-leaflet -->
<!-- <script src="https://unpkg.com/esri-leaflet/dist/esri-leaflet.js"></script> -->

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" crossorigin="" />
 <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" crossorigin=""></script>
 <!-- Load Esri Leaflet from CDN -->
 <script src="https://unpkg.com/esri-leaflet@^3.0.8/dist/esri-leaflet.js"></script>
 <!-- Load Esri Leaflet Vector from CDN -->
 <script src="https://unpkg.com/esri-leaflet-vector@3.1.1/dist/esri-leaflet-vector.js" crossorigin=""></script>
<!-- Load Leaflet MarkerCluster and Esri Leaflet Cluster from CDN -->
 <link rel="stylesheet" type="text/css"
   href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.Default.css"
   integrity="sha512-6ZCLMiYwTeli2rVh3XAPxy3YoR5fVxGdH/pz+KMCzRY2M65Emgkw00Yqmhh8qLGeYQ3LbVZGdmOX9KUjSKr0TA=="
   crossorigin="">
 <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.5.0/dist/MarkerCluster.css"
   integrity="sha512-mQ77VzAakzdpWdgfL/lM1ksNy89uFgibRQANsNneSTMD/bj0Y/8+94XMwYhnbzx8eki2hrbPpDm0vD0CiT2lcg=="
   crossorigin="">
 <script src="https://unpkg.com/leaflet.markercluster@1.5.0/dist/leaflet.markercluster.js"
   integrity="sha512-pWPELjRaw2ZdoT0PDi7iRpRlk1XX3rtnfejJ/HwskyojpHei+9hKpwdphC4yssNt4FM0TjMQOmMrk6ZYSn274w=="
   crossorigin=""></script>
 <script src="https://unpkg.com/esri-leaflet-cluster@2.1.0/dist/esri-leaflet-cluster.js"
   integrity="sha512-fEdNFHisleVtEYdLhW4Z2RsR7TN6hLutE/+O4D+skfTNY2rlHm8HOZARPWkdrFFy/+i2KjFxcZAKTUWaVfbV0g=="
   crossorigin=""></script>

{{ end }}

{{ define "main" }}
{{ $dateFormat := default "Mon Jan 2, 2006" (index .Site.Params "date_format") }}
<div class="col-sm-12 blog-main article">
<article class="blog-post">
  <header>
    <h1 class="blog-post-title">{{ .Title | markdownify }}</h1>
    <p class="blog-post-meta">Posted by {{ $.Param "author" }}</p>
  </header>

  {{ .Content }}

<div class="row visualization">
  <div class="col-lg-12">
    <div id="map" style="height: 400px;"></div>
  </div>
</div>

<div class="container alert alert-secondary controls" style ="margin-top: 30px;">
<div class="row">
  <div class="col-lg-9">
    <div class="form-floating">
      <label for="map-viewby-year" class="float-left form-label">1965</label>
      <label for="map-viewby-year" class="float-right form-label">1980</label><br>
      <input type="range" class="form-range" min="1965" max="1980" step="1" id="map-viewby-year" width="100%" oninput="Year='rangeInput.value'" style="width:100%;">
    </div>
  </div>

  <div class="col-lg-3">
    <div class="form-floating">
      <div class="custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="verified-locations">
        <label class="custom-control-label" for="verified-locations">Show only Verified Locations</label>
      </div>
    </div>
  </div>


</div> <!-- end row -->

<div class="row">
  <!-- State dropdown -->
  <div class="col-lg-4">
    <div class="form-floating">
      <label for="map-viewby-state">State</label>
      <select class="form-control form-control" id="map-viewby-state">
        <option selected>All</option>
        <option value="CA">California</option>
        <option value="SC">South Carolina</option>
      </select>
    </div>
  </div>

  <!-- Type dropdown -->
  <div class="col-lg-4">
    <div class="form-floating">
      <label for="map-viewby-type">Location Type:</label>
      <select class="form-control form-control" id="map-viewby-type">
        <option selected>All</option>
        <option value="bars/clubs">Bars or Clubs</option>
        <option value="hotel">Hotels</option>
      </select>
    </div>
  </div>

  <!-- Amenities dropdown -->
  <div class="col-lg-4">
    <div class="form-floating">
      <label for="map-viewby-amenities">Location Amenities:</label>
      <select class="form-control form-control" id="map-viewby-amenities">
        <option selected>All</option>
        <option value="(*)">(*) - Very Popular</option>
        <option value="(HOT)">Hot or At Your Own Risk</option>
      </select>
    </div>
  </div>

</div> <!-- end row -->

</div>


  <small>Originally Published: {{ .PublishDate.Format "January 2, 2006"}}  |  Last modified: {{ .Lastmod.Format "January 2, 2006" }}</small>
  <script src="../../js/viz.js"></script>
  {{ if .IsTranslated }}
  <h4>{{ i18n "translations" }}</h4>
  <ul>
    {{ range .Translations }}
    <li>
      <a href="{{ .Permalink }}">{{ .Lang }}: {{ .Title }}{{ if .IsPage }}{{ end }}</a>
    </li>
    {{ end }}
  </ul>
  {{ end }}
  </div> {{ "<!-- /.blog-main -->" | safeHTML }}
  {{ if or (ne ($.Param "sharingicons") false) (.Site.DisqusShortname) }}
  <hr>
  <footer>

  {{ if (ne ($.Param "sharingicons") false) }}
  {{ partial "sharing-icons.html" . }}
  {{ end }}

  {{ if and (.Site.DisqusShortname) (ne .Params.comments false) }}
  {{ template "_internal/disqus.html" . }}
  {{ end }}




  </footer>
  {{ end }}

</article> <!-- /.blog-post -->

{{ end }}

{{- /* vim: set ts=2 sw=2 et: */}}
